<html>
  <head>

    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-analytics.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <!-- BOOTSTRAP CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- GOOGLE FONTS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="//fonts.googleapis.com/css?family=Candal"
    />

    <!-- FONT AWESOME -->
    <script
      src="https://kit.fontawesome.com/64273a4a3c.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />

    <!-- STYLE CSS -->
    <link rel="stylesheet" href="/design_files/css/admin.css" />
    <title>ICRM System</title>
  </head>

  <body>
    <header>
      <div class="logo">
        <h1 class="logo-text"><span>ICRM</span> System</h1>
      </div>
      <i class="fa fa-bars menu-toggle"></i>
      <ul class="nav">
        <li><a href="/user/<%=userId%>/home">Home</a></li>
        <li>
          <a href="#">
            <i class="fa fa-user"></i>
            Information
            <i class="fa fa-chevron-down" style="font-size: 0.8em;"></i>
          </a>
          <ul>
            <li><a href="/user/<%=userId%>/profile">Profile</a></li>
            <% if(lead == "Yes" ){%>
            <li><a href="/user/<%=userId%>/preference">preference</a></li>
            <%}%>
            <li>
              <a href="/user/<%=userId%>/logout" class="logout"
                >logout</a
              >
            </li>
          </ul>
        </li>
      </ul>
    </header>
    <!-- Admin-Wrapper -->
    <div class="admin-wrapper">
      <!-- LEFT-SIDEBAR -->
      <div class="left-sidebar">
        <ul>
          <li>
            <img
              src="<%= imagePath%>"
              alt=""
              class="img icon rounded-circle mb-5"
            />
            <!-- style="background-image: url(../design_files/images/ICON.png);" -->
            <div>
              <label for=""><%= name%></br>
              <%= email%>
              </label>
            </div>
          </li>
          <li>
            <a href="/user/<%=userId%>/dashboard">Dashboard</a>
          </li>

          <li>
            <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false">
              Service <i class="fa fa-chevron-down"></i>
            </a>

            <ul class="collapse list-unstyled" id="pageSubmenu">
              <li>
                <a href="/user/<%=userId%>/analysis"
                  >Self Analysis</a
                >
              </li>
              <li>
                <a href="/user/<%=userId%>/chatbot">
                  Chat Bot
                </a>
              </li>

            </ul>
          </li>
        </ul>
      </div>

      <!-- USER CONTENT -->
      <div class="admin-content">
        <div>
          <h2 class="page-title" >
            Order Dashboard
          <button class="btn btn-success" onClick="updateChart()">Update</button>

          </h2>
          <canvas id="myChart" class="chart"></canvas>
          <canvas id="myChart2" class="chart"></canvas>

        </div>

        <script>
          // Global Options
          Chart.defaults.global.defaultFontFamily= 'Lato';
          Chart.defaults.global.defaultFontSize= 18;
          Chart.defaults.global.defaultFontColor= '#D4AF37';
          let olddata = [1, 0, 3, 5, 4]
          let chartX = [4, 5, 3, 2, 1] 
          let olddata1 = [5, 7, 10, 5, 1]
          let newdata1 = [8, 8, 10, 7, 3]
          let ctx = document.getElementById('myChart').getContext('2d');
          let ctx2 = document.getElementById('myChart2').getContext('2d');
          let chart = new Chart(ctx, {
            type:'bar', //pie; bar, horizontalBar, pie, line
            data:{
              labels:['BlueberryTart', 'BrownSugarMochiRoll', 'LemonTart', 'MatchaMousse'],
              datasets:[{
                label:["Orders Record"],
                backgroundColor:[ '#60ACFC' ],
                data:olddata,
              },
              {
          label:["Orders Recordsss"],
              backgroundColor:[ '#40ACFC' ],
                data:olddata1,
              }]
            },

            options:{}
          })

          let chart2 = new Chart(ctx2, {
            type:'line', //pie; bar, horizontalBar, pie, line
            data:{
              labels:['BlueberryTart', 'BrownSugarMochiRoll', 'LemonTart', 'MatchaMousse'],
              datasets:[{
                label:["Orders Record"],
                backgroundColor:[ '#60ACFC' ],
                data:olddata,
              },
              {
          label:["Orders Recordsss"],
              backgroundColor:[ '#40ACFC' ],
                data:olddata1,
              }]
            },

            options:{}
          })

             
          function updateChart(){
            // chart.data.database[0].data = variable
            chart.data.datasets[0].data = newdata
            chart.data.datasets[1].data = newdata1
            chart.update();
chart.data.labels=['BlueberryTart', 'BrownSugarMochiRoll', 'LemonTart', 'MatchaMousse']
            
          }
// let massPopChart = new Chart(myChart, {â€¦
//             type:'line', //pie; bar, horizontalBar, pie, line
//             data:{
//               labels:['BlueberryTart', 'BrownSugarMochiRoll', 'LemonTart', 'MatchaMousse'],
//               datasets:[{
//                 label:["Orders Record"],
//                 data:[1, 5, 4, 0, 3],
//                 backgroundColor:[
//                   '#60ACFC',
//                   '#32D3EB',
//                   '#5BC49F',
//                   '#FEB64D',
//                   '#FF7C7C',
//                   '#9287E7'
//               ],
//               borderWidth:1,
//               borderColor:'#777',
//               hoverBorderWidth:3,
//               borderWidthColor:'#000',
//               }]
//             },
//               options:{
//                 title:{
//                   display:true,
//                   text:'My Orders',
//                   fontSize:25
//                 },
//                 legend:{
//                   display:true,
//                   position:'right',
//                   labels:{
//                     fontColor:'#777'
                    
//                   }
//                 },
//                 layout:{
//                   width:200,
//                   padding:{
//                     left:0,
//                     right:0,
//                     bottom:0,
//                     top:0
//                   },
//                 },
//                 tooltips:{
//                   enabled:true
//                 }
//               }
//           })
        </script>
        </div>
      </div>
    </div>
   <!-- JQUERY -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/19.0.0/classic/ckeditor.js"></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
      integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
      integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
      crossorigin="anonymous"
    ></script>

    <!-- CUSTOM SCRIPT -->
    <script src="/js/scripts.js"></script>
  </body>
</html>
